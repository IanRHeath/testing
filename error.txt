ACTION REQUIRED: I have created a template file named 'ticket_description.txt'.
Please open it, complete the details, and save the file.

---
A new Jira ticket will be created with the following details:
  Project:           PLAT
  Summary:           Integration Test Ticket - PLEASE DELETE IF FOUND

--- Description Preview ---
This is a live integration test.

--- Steps to Reproduce Preview ---
1. Run test
2. Observe ticket creation
3. Observe ticket deletion
----------------------------------

Attempting to create ticket in project 'PLAT' with summary 'Integration Test Ticket - PLEASE DELETE IF FOUND'...
[LIVE MODE] Sending data to Jira API...

WARNING: No ticket key was captured, cleanup could not be performed.
E
======================================================================
ERROR: test_live_ticket_creation_and_deletion (integration_test_live_creation.TestLiveTicketCreation.test_live_ticket_creation_and_deletion)
Tests the end-to-end creation of a ticket in a live Jira instance,
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/mnt/c/users/ianheath/desktop/jira_auto_triage-IanDev/jira_utils.py", line 173, in create_jira_issue
    new_issue = client.create_issue(fields=fields)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/c/users/ianheath/desktop/jira_auto_triage-IanDev/venv/lib/python3.12/site-packages/jira/client.py", line 1858, in create_issue
    r = self._session.post(url, data=json.dumps(data))
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/c/users/ianheath/desktop/jira_auto_triage-IanDev/venv/lib/python3.12/site-packages/requests/sessions.py", line 637, in post
    return self.request("POST", url, data=data, json=json, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/c/users/ianheath/desktop/jira_auto_triage-IanDev/venv/lib/python3.12/site-packages/jira/resilientsession.py", line 247, in request
    elif raise_on_error(response, **processed_kwargs):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/c/users/ianheath/desktop/jira_auto_triage-IanDev/venv/lib/python3.12/site-packages/jira/resilientsession.py", line 72, in raise_on_error
    raise JIRAError(
jira.exceptions.JIRAError: JiraError HTTP 400 url: https://ontrack-internal.amd.com/rest/api/2/issue

        response headers = {'X-AREQUESTID': '123x3014206x19', 'X-ASESSIONID': '1baq5f7', 'X-ANODEID': 'node4', 'Referrer-Policy': 'strict-origin-when-cross-origin', 'X-XSS-Protection': '1; mode=block', 'X-Content-Type-Options': 'nosniff', 'Strict-Transport-Security': 'max-age=31536000', 'X-Seraph-LoginReason': 'OK', 'X-RateLimit-Limit': '500', 'X-RateLimit-Remaining': '499', 'X-RateLimit-FillRate': '500', 'X-RateLimit-Interval-Seconds': '60', 'Retry-After': '0', 'X-AUSERNAME': 'ianheath', 'Cache-Control': 'no-cache, no-store, no-transform', 'Content-Security-Policy': 'sandbox', 'Content-Encoding': 'gzip', 'Vary': 'User-Agent', 'Content-Type': 'application/json;charset=UTF-8', 'Transfer-Encoding': 'chunked', 'Date': 'Tue, 17 Jun 2025 06:03:08 GMT', 'Connection': 'close'}
        response text = {"errorMessages":[],"errors":{"customfield_27209":"IOD Silicon Die Revision is required.","customfield_27210":"CCD Silicon Die Revision is required."}}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/lib/python3.12/unittest/mock.py", line 1390, in patched
    return func(*newargs, **newkeywargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/c/users/ianheath/desktop/jira_auto_triage-IanDev/integration_test_live_creation.py", line 41, in test_live_ticket_creation_and_deletion
    result = create_ticket_tool.invoke(args)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/c/users/ianheath/desktop/jira_auto_triage-IanDev/venv/lib/python3.12/site-packages/langchain_core/tools/base.py", line 510, in invoke
    return self.run(tool_input, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/c/users/ianheath/desktop/jira_auto_triage-IanDev/venv/lib/python3.12/site-packages/langchain_core/tools/base.py", line 771, in run
    raise error_to_raise
  File "/mnt/c/users/ianheath/desktop/jira_auto_triage-IanDev/venv/lib/python3.12/site-packages/langchain_core/tools/base.py", line 740, in run
    response = context.run(self._run, *tool_args, **tool_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/c/users/ianheath/desktop/jira_auto_triage-IanDev/venv/lib/python3.12/site-packages/langchain_core/tools/structured.py", line 93, in _run
    return self.func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/c/users/ianheath/desktop/jira_auto_triage-IanDev/jira_tools.py", line 226, in create_ticket_tool
    new_issue = create_jira_issue(
                ^^^^^^^^^^^^^^^^^^
  File "/mnt/c/users/ianheath/desktop/jira_auto_triage-IanDev/jira_utils.py", line 177, in create_jira_issue
    raise JiraBotError(error_details)
jira_utils.JiraBotError: JIRA API Error on ticket creation: JiraError HTTP 400 url: https://ontrack-internal.amd.com/rest/api/2/issue

        response headers = {'X-AREQUESTID': '123x3014206x19', 'X-ASESSIONID': '1baq5f7', 'X-ANODEID': 'node4', 'Referrer-Policy': 'strict-origin-when-cross-origin', 'X-XSS-Protection': '1; mode=block', 'X-Content-Type-Options': 'nosniff', 'Strict-Transport-Security': 'max-age=31536000', 'X-Seraph-LoginReason': 'OK', 'X-RateLimit-Limit': '500', 'X-RateLimit-Remaining': '499', 'X-RateLimit-FillRate': '500', 'X-RateLimit-Interval-Seconds': '60', 'Retry-After': '0', 'X-AUSERNAME': 'ianheath', 'Cache-Control': 'no-cache, no-store, no-transform', 'Content-Security-Policy': 'sandbox', 'Content-Encoding': 'gzip', 'Vary': 'User-Agent', 'Content-Type': 'application/json;charset=UTF-8', 'Transfer-Encoding': 'chunked', 'Date': 'Tue, 17 Jun 2025 06:03:08 GMT', 'Connection': 'close'}
        response text = {"errorMessages":[],"errors":{"customfield_27209":"IOD Silicon Die Revision is required.","customfield_27210":"CCD Silicon Die Revision is required."}}

----------------------------------------------------------------------
Ran 1 test in 0.325s

FAILED (errors=1)
